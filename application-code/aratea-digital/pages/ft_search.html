<?xml version="1.0" encoding="UTF-8"?>
<div class="templates:surround?with=templates/page.html&amp;at=content">
    <script src="$app-root/resources/js/tablesorter/js/jquery.tablesorter.js"/>
    <script src="$app-root/resources/js/tablesorter/js/jquery.tablesorter.widgets.js"/>
    <script src="$app-root/resources/js/tablesorter/js/jquery.tablesorter.pager.js"/>
    <link rel="stylesheet" type="text/css" href="$app-root/resources/js/tablesorter/css/theme.bootstrap.css"/>
    <link rel="stylesheet" type="text/css" href="$app-root/resources/js/tablesorter/css/jquery.tablesorter.pager.css"/>
    <script> $(function() { $("table").tablesorter({ theme : "bootstrap", widthFixed: false,
        headerTemplate : '{content} {icon}', widgets : [ "uitheme", "filter", "zebra" ], filter_cssFilter: "form-control", }) }); 
    </script>
    <h1>
        <span id="hitcount"/> for
        <strong>
            <span id="searchexpr"/>
        </strong>
    </h1>
    <hr/>
    <table>
        <thead>
            <tr>
                <th>score</th>
                <th>KWIC</th>
                <th>Link</th>
            </tr>
        </thead>
        <tbody>
            <tr data-template="app:ft_search"/>
        </tbody>
    </table>
    <script>
        $( document ).ready(function() {       
            var hits = ($('td.KWIC').children('p').length);
            if (hits == 1){
                $("#hitcount").text(hits+" Hit ");
            }
            else {
                $("#hitcount").text(hits+" Hits ");
            }
            $("#searchexpr").text(decodeURIComponent($.urlParam("searchexpr")));
        });     
    </script>
</div>